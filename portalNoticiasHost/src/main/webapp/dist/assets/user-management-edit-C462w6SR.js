import{d as x,h as D,C as T,i as N,y as q,g as b,u as E,q as K,_ as F,r as z,c as a,o as i,a as t,b as l,w as B,t as o,l as r,v as g,n as f,D as H,s as S,F as k,x as M,f as L,e as w}from"./index-BApcu5iX.js";import{m as y,a as I,e as Z,r as U,u as j}from"./index-B4iRRP_1.js";import{U as O}from"./user-management.service-lcwQ6W0j.js";import"./preload-helper-CLcXU_4U.js";class R{constructor(n,h,u,$,c,d,s,m,A,p,v,C,V){this.id=n,this.login=h,this.firstName=u,this.lastName=$,this.email=c,this.activated=d,this.langKey=s,this.authorities=m,this.createdBy=A,this.createdDate=p,this.lastModifiedBy=v,this.lastModifiedDate=C,this.password=V}}const J=e=>e?/^[a-zA-Z0-9!$&*+=?^_`{|}~.-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$|^[_.@A-Za-z0-9-]+$/.test(e):!0,G={userAccount:{login:{required:U,maxLength:y(254),pattern:J},firstName:{maxLength:y(50)},lastName:{maxLength:y(50)},email:{required:U,email:Z,minLength:I(5),maxLength:y(50)}}},P=x({compatConfig:{MODE:3},name:"JhiUserManagementEdit",validations:G,setup(){const e=D(),n=T(),h=N("alertService",()=>q(),!0),u=N("userManagementService",()=>new O,!0),$=()=>n.go(-1),c=b({...new R,authorities:[]}),d=b(!1),s=b([]),m=async()=>{const v=await u.retrieveAuthorities();s.value=v.data},A=async v=>{const C=await u.get(v);c.value=C.data};m();const p=e.params?.userId;return p&&A(p),{alertService:h,userAccount:c,isSaving:d,authorities:s,userManagementService:u,previousState:$,v$:j(),languages:K(),t$:E().t}},methods:{save(){this.isSaving=!0,this.userAccount.id?this.userManagementService.update(this.userAccount).then(e=>{this.returnToList(),this.alertService.showInfo(this.getToastMessageFromHeader(e))}).catch(e=>{this.isSaving=!0,this.alertService.showHttpError(e.response)}):this.userManagementService.create(this.userAccount).then(e=>{this.returnToList(),this.alertService.showSuccess(this.getToastMessageFromHeader(e))}).catch(e=>{this.isSaving=!0,this.alertService.showHttpError(e.response)})},returnToList(){this.isSaving=!1,this.previousState()},getToastMessageFromHeader(e){return this.t$(e.headers["x-portalnoticiashostapp-alert"],{param:decodeURIComponent(e.headers["x-portalnoticiashostapp-params"].replace(/\+/g," "))}).toString()}}}),Q={class:"row justify-content-center"},W={class:"col-8"},X=["textContent"],Y=["hidden"],_=["textContent"],ee={class:"form-group"},te=["textContent"],ne={key:0},se=["textContent"],oe=["textContent"],ae=["textContent"],ie={class:"form-group"},le=["textContent"],re=["placeholder"],ue={key:0},de=["textContent"],me={class:"form-group"},ce=["textContent"],ve=["placeholder"],ge={key:0},he=["textContent"],$e={class:"form-group"},pe=["textContent"],fe=["placeholder"],ye={key:0},Ae=["textContent"],Ce=["textContent"],be=["textContent"],Ne=["textContent"],Se={class:"form-check"},ke={class:"form-check-label",for:"activated"},Me=["disabled"],Le=["textContent"],we={key:0,class:"form-group"},Ue=["textContent"],Ve=["value"],xe={class:"form-group"},De=["textContent"],Te=["value"],qe=["textContent"],Ee=["disabled"],Ke=["textContent"];function Fe(e,n,h,u,$,c){const d=z("font-awesome-icon");return i(),a("div",Q,[t("div",W,[e.userAccount?(i(),a("form",{key:0,name:"editForm",novalidate:"",onSubmit:n[9]||(n[9]=B(s=>e.save(),["prevent"]))},[t("h2",{id:"myUserLabel",textContent:o(e.t$("userManagement.home.createOrEditLabel"))},null,8,X),t("div",null,[t("div",{class:"form-group",hidden:!e.userAccount.id},[t("label",{textContent:o(e.t$("global.field.id"))},null,8,_),r(t("input",{type:"text",class:"form-control",name:"id","onUpdate:modelValue":n[0]||(n[0]=s=>e.userAccount.id=s),readonly:""},null,512),[[g,e.userAccount.id]])],8,Y),t("div",ee,[t("label",{class:"form-control-label",textContent:o(e.t$("userManagement.login"))},null,8,te),r(t("input",{type:"text",class:f(["form-control",{valid:!e.v$.userAccount.login.$invalid,invalid:e.v$.userAccount.login.$invalid}]),name:"login","onUpdate:modelValue":n[1]||(n[1]=s=>e.v$.userAccount.login.$model=s)},null,2),[[g,e.v$.userAccount.login.$model]]),e.v$.userAccount.login.$anyDirty&&e.v$.userAccount.login.$invalid?(i(),a("div",ne,[e.v$.userAccount.login.required?l("",!0):(i(),a("small",{key:0,class:"form-text text-danger",textContent:o(e.t$("entity.validation.required"))},null,8,se)),e.v$.userAccount.login.maxLength?l("",!0):(i(),a("small",{key:1,class:"form-text text-danger",textContent:o(e.t$("entity.validation.maxlength",{max:50}))},null,8,oe)),e.v$.userAccount.login.pattern?l("",!0):(i(),a("small",{key:2,class:"form-text text-danger",textContent:o(e.t$("entity.validation.patternLogin"))},null,8,ae))])):l("",!0)]),t("div",ie,[t("label",{class:"form-control-label",for:"firstName",textContent:o(e.t$("userManagement.firstName"))},null,8,le),r(t("input",{type:"text",class:f(["form-control",{valid:!e.v$.userAccount.firstName.$invalid,invalid:e.v$.userAccount.firstName.$invalid}]),id:"firstName",name:"firstName",placeholder:e.t$("settings.form['firstname.placeholder']"),"onUpdate:modelValue":n[2]||(n[2]=s=>e.v$.userAccount.firstName.$model=s)},null,10,re),[[g,e.v$.userAccount.firstName.$model]]),e.v$.userAccount.firstName.$anyDirty&&e.v$.userAccount.firstName.$invalid?(i(),a("div",ue,[e.v$.userAccount.firstName.maxLength?l("",!0):(i(),a("small",{key:0,class:"form-text text-danger",textContent:o(e.t$("entity.validation.maxlength",{max:50}))},null,8,de))])):l("",!0)]),t("div",me,[t("label",{class:"form-control-label",for:"lastName",textContent:o(e.t$("userManagement.lastName"))},null,8,ce),r(t("input",{type:"text",class:f(["form-control",{valid:!e.v$.userAccount.lastName.$invalid,invalid:e.v$.userAccount.lastName.$invalid}]),id:"lastName",name:"lastName",placeholder:e.t$("settings.form['lastname.placeholder']"),"onUpdate:modelValue":n[3]||(n[3]=s=>e.v$.userAccount.lastName.$model=s)},null,10,ve),[[g,e.v$.userAccount.lastName.$model]]),e.v$.userAccount.lastName.$anyDirty&&e.v$.userAccount.lastName.$invalid?(i(),a("div",ge,[e.v$.userAccount.lastName.maxLength?l("",!0):(i(),a("small",{key:0,class:"form-text text-danger",textContent:o(e.t$("entity.validation.maxlength",{max:50}))},null,8,he))])):l("",!0)]),t("div",$e,[t("label",{class:"form-control-label",for:"email",textContent:o(e.t$("userManagement.email"))},null,8,pe),r(t("input",{type:"email",class:f(["form-control",{valid:!e.v$.userAccount.email.$invalid,invalid:e.v$.userAccount.email.$invalid}]),id:"email",name:"email",placeholder:e.t$("global.form['email.placeholder']"),"onUpdate:modelValue":n[4]||(n[4]=s=>e.v$.userAccount.email.$model=s),email:"",required:""},null,10,fe),[[g,e.v$.userAccount.email.$model]]),e.v$.userAccount.email.$anyDirty&&e.v$.userAccount.email.$invalid?(i(),a("div",ye,[e.v$.userAccount.email.required?l("",!0):(i(),a("small",{key:0,class:"form-text text-danger",textContent:o(e.t$("global.messages.validate.email.required"))},null,8,Ae)),e.v$.userAccount.email.email?l("",!0):(i(),a("small",{key:1,class:"form-text text-danger",textContent:o(e.t$("global.messages.validate.email.invalid"))},null,8,Ce)),e.v$.userAccount.email.minLength?l("",!0):(i(),a("small",{key:2,class:"form-text text-danger",textContent:o(e.t$("global.messages.validate.email.minlength"))},null,8,be)),e.v$.userAccount.email.maxLength?l("",!0):(i(),a("small",{key:3,class:"form-text text-danger",textContent:o(e.t$("global.messages.validate.email.maxlength"))},null,8,Ne))])):l("",!0)]),t("div",Se,[t("label",ke,[r(t("input",{class:"form-check-input",disabled:e.userAccount.id===null,type:"checkbox",id:"activated",name:"activated","onUpdate:modelValue":n[5]||(n[5]=s=>e.userAccount.activated=s)},null,8,Me),[[H,e.userAccount.activated]]),t("span",{textContent:o(e.t$("userManagement.activated"))},null,8,Le)])]),e.languages&&Object.keys(e.languages).length>0?(i(),a("div",we,[t("label",{for:"langKey",textContent:o(e.t$("userManagement.langKey"))},null,8,Ue),r(t("select",{class:"form-control",id:"langKey",name:"langKey","onUpdate:modelValue":n[6]||(n[6]=s=>e.userAccount.langKey=s)},[(i(!0),a(k,null,M(e.languages,(s,m)=>(i(),a("option",{value:m,key:m},o(s.name),9,Ve))),128))],512),[[S,e.userAccount.langKey]])])):l("",!0),t("div",xe,[t("label",{textContent:o(e.t$("userManagement.profiles"))},null,8,De),r(t("select",{class:"form-control",multiple:"",name:"authority","onUpdate:modelValue":n[7]||(n[7]=s=>e.userAccount.authorities=s)},[(i(!0),a(k,null,M(e.authorities,s=>(i(),a("option",{value:s,key:s},o(s),9,Te))),128))],512),[[S,e.userAccount.authorities]])])]),t("div",null,[t("button",{type:"button",class:"btn btn-secondary",onClick:n[8]||(n[8]=s=>e.previousState())},[L(d,{icon:"ban"}),n[10]||(n[10]=w(" ")),t("span",{textContent:o(e.t$("entity.action.cancel"))},null,8,qe)]),t("button",{type:"submit",disabled:e.v$.userAccount.$invalid||e.isSaving,class:"btn btn-primary"},[L(d,{icon:"save"}),n[11]||(n[11]=w(" ")),t("span",{textContent:o(e.t$("entity.action.save"))},null,8,Ke)],8,Ee)])],32)):l("",!0)])])}const Ze=F(P,[["render",Fe]]);export{Ze as default};
