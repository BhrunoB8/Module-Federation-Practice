import{d as c,j as u,g as i,u as d,_ as h,c as t,o as s,a as n,b as o,t as a,w as v,l as $,v as g,n as p}from"./index-BApcu5iX.js";import{e as f,m as C,a as b,r as y,u as A}from"./index-B4iRRP_1.js";import"./preload-helper-CLcXU_4U.js";const x={resetAccount:{email:{required:y,minLength:b(5),maxLength:C(254),email:f}}},_=c({compatConfig:{MODE:3},name:"ResetPasswordInit",validations:x,setup(){const e=i(null),l=i(!1),r=i({email:null});return{error:e,success:l,resetAccount:r,v$:A(),t$:d().t}},methods:{async requestReset(){this.error=null,this.success=!1,await u.post("api/account/reset-password/init",this.resetAccount.email,{headers:{"content-type":"text/plain"}}).then(()=>{this.success=!0}).catch(()=>{this.success=!1,this.error="ERROR"})}}}),k={class:"row justify-content-center"},q={class:"col-md-8"},w=["textContent"],R={key:0,class:"alert alert-warning"},L=["textContent"],D={key:1,class:"alert alert-success"},V=["textContent"],B={class:"form-group"},E=["textContent"],I=["placeholder"],M={key:0},P=["textContent"],j=["textContent"],N=["textContent"],O=["textContent"],S=["disabled","textContent"];function z(e,l,r,T,U,F){return s(),t("div",null,[n("div",k,[n("div",q,[n("h1",{textContent:a(e.t$("reset.request.title"))},null,8,w),e.success?o("",!0):(s(),t("div",R,[n("p",{textContent:a(e.t$("reset.request.messages.info"))},null,8,L)])),e.success?(s(),t("div",D,[n("p",{textContent:a(e.t$("reset.request.messages.success"))},null,8,V)])):o("",!0),e.success?o("",!0):(s(),t("form",{key:2,name:"form",onSubmit:l[1]||(l[1]=v(m=>e.requestReset(),["prevent"]))},[n("div",B,[n("label",{class:"form-control-label",for:"email",textContent:a(e.t$("global.form['email.label']"))},null,8,E),$(n("input",{type:"email",class:p(["form-control",{valid:!e.v$.resetAccount.email.$invalid,invalid:e.v$.resetAccount.email.$invalid}]),id:"email",name:"email",placeholder:e.t$("global.form['email.placeholder']"),"onUpdate:modelValue":l[0]||(l[0]=m=>e.v$.resetAccount.email.$model=m),minlength:"5",maxlength:"254",email:"",required:"","data-cy":"emailResetPassword"},null,10,I),[[g,e.v$.resetAccount.email.$model]]),e.v$.resetAccount.email.$anyDirty&&e.v$.resetAccount.email.$invalid?(s(),t("div",M,[e.v$.resetAccount.email.required?o("",!0):(s(),t("small",{key:0,class:"form-text text-danger",textContent:a(e.t$("global.messages.validate.email.required"))},null,8,P)),e.v$.resetAccount.email.email?o("",!0):(s(),t("small",{key:1,class:"form-text text-danger",textContent:a(e.t$("global.messages.validate.email.invalid"))},null,8,j)),e.v$.resetAccount.email.minLength?o("",!0):(s(),t("small",{key:2,class:"form-text text-danger",textContent:a(e.t$("global.messages.validate.email.minlength"))},null,8,N)),e.v$.resetAccount.email.maxLength?o("",!0):(s(),t("small",{key:3,class:"form-text text-danger",textContent:a(e.t$("global.messages.validate.email.maxlength"))},null,8,O))])):o("",!0)]),n("button",{type:"submit",disabled:e.v$.resetAccount.$invalid,class:"btn btn-primary",textContent:a(e.t$("reset.request.form.button")),"data-cy":"submit"},null,8,S)],32))])])])}const K=h(_,[["render",z]]);export{K as default};
